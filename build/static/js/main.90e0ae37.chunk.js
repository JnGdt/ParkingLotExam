(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),c=(a(30),a(2)),s=a(3),i=a(5),u=a(4),m=a(6),f=a(7),d=(a(35),a(37),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeHandler=function(e){var t=e.target.name,n=""===e.target.value?"":parseInt(e.target.value,10);a.props.onChange(t,n)},a.submitHandler=function(){var e="";""!==a.props.total_slots?isNaN(a.props.total_slots)?e="Enter correct value for total slots":isNaN(a.props.filled)?e="Enter correct value for initial cars.":a.props.filled<=a.props.total_slots?a.props.populateLot():e="Cars cannot be more than slots.":e="Enter total number of parking slots",a.setState({error:e})},a.state={error:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"entry-block"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"col-5"},r.a.createElement("span",{className:"col-6"},"Total Parking Slots: "),r.a.createElement("input",{className:"col-6",type:"number",name:"total_slots",onChange:this.changeHandler,value:this.props.total_slots})),r.a.createElement("label",{className:"col-4"},r.a.createElement("span",{className:"col-6"},"Initial Cars: "),r.a.createElement("input",{type:"number",className:"col-6",name:"filled",onChange:this.changeHandler,value:this.props.filled})),r.a.createElement("div",{className:"col-3"},r.a.createElement("button",{className:"btn btn-success",onClick:this.submitHandler},"Generate"))),r.a.createElement("div",{className:"error ml-3 mt-2"},this.state.error))}}]),t}(n.Component)),p=a(8),v=(a(39),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeHandler=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value.toUpperCase()))},a.submitHandler=function(){var e="";a.state.regis.match(/^[A-Z]{2}-\d{2}-[A-Z]{2}-[1-9]\d{3}$/)?a.state.colour.match(/[A-Za-z]+/)?(a.props.onSubmit(a.state.regis,a.state.colour),a.setState({regis:"",colour:""})):e="Enter correct colour value":e="Enter registration number in correct format - AB-12-XY-1234",a.setState({error:e})},a.state={regis:"",colour:"",er:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.available>0?r.a.createElement("div",{className:"add-block row"},r.a.createElement("div",{className:"col-12 h4 "},"Available space: ",this.props.available),r.a.createElement("div",{className:"error"},this.state.error),r.a.createElement("div",{className:"error"},""===this.state.error&&this.props.duplicate_err?"This Registration number already exist. Please enter correct number.":""),r.a.createElement("div",{className:"row ml-4"},r.a.createElement("label",{className:"col-5"},r.a.createElement("span",{className:"col-6 regNO"},"Registration No:"),r.a.createElement("input",{className:"regsPh",type:"text",name:"regis",placeholder:"AB-12-XY-1234",value:this.state.regis,onChange:this.changeHandler})),r.a.createElement("label",{className:"col-4"},r.a.createElement("span",{className:"col-4"},"Color:"),r.a.createElement("input",{className:"col-7",type:"text",name:"colour",value:this.state.colour,onChange:this.changeHandler})),r.a.createElement("div",{className:"col-3"},r.a.createElement("button",{className:"btn btn-sm btn-success",onClick:this.submitHandler},"Add")))):null}}]),t}(n.Component)),h=(a(41),function(e){return r.a.createElement("div",{className:"row table-row"},r.a.createElement("div",{className:"col-4"},e.data.registration),r.a.createElement("div",{className:"col-4"},e.data.color),r.a.createElement("div",{className:"col-2"},e.data.slot),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){return e.onClick(e.data.slot)}},"Exit")))}),g=function(e){return r.a.createElement("div",{className:"row filters"},r.a.createElement("div",{className:"col-4"},r.a.createElement("input",{type:"text",name:"regfilter",onChange:e.onChange,value:e.filterVals.rfil})),r.a.createElement("div",{className:"col-4"},r.a.createElement("input",{type:"text",name:"colorfilter",onChange:e.onChange,value:e.filterVals.cfil})),r.a.createElement("div",{className:"col-2"},r.a.createElement("input",{type:"number",name:"slotfilter",onChange:e.onChange,alue:e.filterVals.sfil})),r.a.createElement("div",{className:"col-2"}))},b=function(e){return r.a.createElement("div",{className:"data-table"},r.a.createElement("div",{className:"row table-header"},r.a.createElement("div",{className:"col-4 h4"},"Registration Number"),r.a.createElement("div",{className:"col-4 h4"},"Color"),r.a.createElement("div",{className:"col-4 h4"},"Slot"),r.a.createElement("div",{className:"col-2 h4"})),r.a.createElement("hr",null),e.children,r.a.createElement("div",{className:"row table-footer"}))},E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).filterHandler=function(e){if("slotfilter"===e.target.name){var t=""===e.target.value?"":parseInt(e.target.value,10);a.props.getFilter("slotfilter",t)}else a.props.getFilter(e.target.name,e.target.value.toUpperCase())},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(this.props.data.length>0){var t=this.props.data;t=""===this.props.filters.rfil?t:t.filter(function(t){return t.registration.includes(e.props.filters.rfil)}),t=""===this.props.filters.cfil?t:t.filter(function(t){return t.color.includes(e.props.filters.cfil)});var a=(t=""===this.props.filters.sfil?t:t.filter(function(t){return e.props.filters.sfil===t.slot})).map(function(t){return r.a.createElement(h,{key:t.slot,data:t,onClick:e.props.removeBtnHandler})});return r.a.createElement("div",{className:"col-12"},r.a.createElement(b,null,r.a.createElement(g,{filterVals:this.props.filters,onChange:this.filterHandler}),a))}return r.a.createElement("div",{className:"m-5 p-5 pull-center"},r.a.createElement("div",{className:"h3 justify-content-center"},"No Parking"))}}]),t}(n.Component),N=function(e,t){return{type:"UPDATE_FORM",field:{name:e,value:t}}},O=function(){return{type:"POPULATE"}},j=function(e){return{type:"CLEAR_SLOT",slotId:e}},w=function(e,t){return{type:"ADD_NEW",reg:e,colour:t}},y=function(e,t){return{type:"UPDATE_FILTER",filter:{name:e,val:t}}},C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).mapTableData=function(e){return{data:e.vehicles,available:e.available_slots.length,filters:{rfil:e.regfilter,cfil:e.colorfilter,sfil:e.slotfilter}}},a.mapTableActions=function(e){return{removeBtnHandler:function(t){e(j(t))},getFilter:function(t,a){e(y(t,a))}}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Object(f.b)(this.mapTableData,this.mapTableActions)(E);return r.a.createElement("div",{className:"console"},r.a.createElement(e,null))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).mapFormState=function(e){return{total_slots:e.total_slots,filled:e.filled}},a.mapFormActions=function(e){return{onChange:function(t,a){e(N(t,a))},populateLot:function(){e(O())}}},a.addFormData=function(e){return{duplicate_err:e.dup_err,available:e.available_slots.length}},a.addFormActions=function(e){return{onSubmit:function(t,a){e(w(t,a))}}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Object(f.b)(this.mapFormState,this.mapFormActions)(d),t=Object(f.b)(this.addFormData,this.addFormActions)(v);return r.a.createElement("div",{className:"main container-fluid"},r.a.createElement("header",{className:"nav navbar justify-content-center fonxl"},r.a.createElement("h1",{className:"display-1"},r.a.createElement("strong",null,"Parking Lot"))),r.a.createElement("div",{className:"content container"},r.a.createElement(e,null),r.a.createElement(t,null),r.a.createElement(C,null)))}}]),t}(n.Component),A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(43);var S=a(10),T=a(20),F=a(12),H={total_slots:"",filled:"",colors:["BLACK","WHITE","BLUE","RED"],vehicles:[],available_slots:[],dup_err:0,regfilter:"",colorfilter:"",slotfilter:""};function L(e,t){for(var a=!1,n=0;n<e.length;n++)if(e[n].registration===t){a=!0;break}return a}function D(e){return Math.floor(Math.random()*e)}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FORM":return Object.assign({},e,Object(p.a)({},t.field.name,t.field.value));case"POPULATE":for(var a=[],n=e.filled+1;n<=e.total_slots;n++)a.push(n);return Object.assign({},e,{vehicles:function(e,t){for(var a=[],n=function(){var e;do{e="KA-";var t=(D(9)+1).toString()+D(10).toString()+D(10).toString()+D(10).toString();e+=function(){var e=D(21);return e>9?e.toString():"0"+e.toString()}()+"-"+function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return e[D(e.length)]+e[D(e.length)]}()+"-"+t}while(L(a,e));return e},r=1;r<=e;r++)a.push({slot:r,registration:n(),color:t[D(t.length)]});return a}(e.filled,e.colors),available_slots:a});case"CLEAR_SLOT":return Object.assign({},e,{vehicles:e.vehicles.filter(function(e){return e.slot!==t.slotId}),filled:e.filled-1,available_slots:Object(F.a)(e.available_slots).concat([t.slotId]).sort(function(e,t){return e-t})});case"ADD_NEW":if(L(e.vehicles,t.reg))return Object.assign({},e,{dup_err:1});var r=Object(T.a)(e.available_slots),l=r[0],o=r.slice(1);return Object.assign({},e,{vehicles:[{slot:l,registration:t.reg,color:t.colour}].concat(Object(F.a)(e.vehicles)),available_slots:o,filled:e.filled+1,dup_err:0});case"UPDATE_FILTER":return Object.assign({},e,Object(p.a)({},t.filter.name,t.filter.val));default:return e}},R=Object(S.b)(P);o.a.render(r.a.createElement(f.a,{store:R},r.a.createElement(_,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");A?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):k(e)})}}()}},[[21,2,1]]]);
//# sourceMappingURL=main.90e0ae37.chunk.js.map